# å®¶äº‹ä¸€è¦§ã‚¿ãƒ–è¨­è¨ˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

## 1. æ¦‚è¦

å®¶äº‹ä¸€è¦§ã‚¿ãƒ–ã¯ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒç™»éŒ²ã—ãŸå…¨ã¦ã®å®¶äº‹ã‚’ä¸€è¦§è¡¨ç¤ºã—ã€å®¶äº‹ã®ç™»éŒ²ãƒ»å®Œäº†ãƒ»è©³ç´°ç¢ºèªãƒ»å‰Šé™¤ãªã©ã®æ“ä½œã‚’è¡Œã†ãŸã‚ã®ç”»é¢ã§ã™ã€‚ãƒ›ãƒ¼ãƒ ç”»é¢ã®ã‚¿ãƒ–ã®ä¸€ã¤ã¨ã—ã¦å®Ÿè£…ã•ã‚Œã¾ã™ã€‚ã“ã®ã‚¿ãƒ–ã¯ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒç™»éŒ²ã—ãŸå®¶äº‹ã‚’åŠ¹ç‡çš„ã«ç®¡ç†ã—ã€å®¶äº‹ã®å®Œäº†ã‚’è¨˜éŒ²ã™ã‚‹ãŸã‚ã®ä¸­å¿ƒçš„ãªæ©Ÿèƒ½ã‚’æä¾›ã—ã¾ã™ã€‚

## 2. æ©Ÿèƒ½è¦ä»¶

### 2.1 è¡¨ç¤ºè¦ä»¶

1. **å®¶äº‹ä¸€è¦§ã®è¡¨ç¤º**

   - ç™»éŒ²ã•ã‚Œã¦ã„ã‚‹å…¨ã¦ã®å®¶äº‹ã‚’ã€ç™»éŒ²æ—¥æ™‚ãŒæ–°ã—ã„é †ï¼ˆé™é †ï¼‰ã«è¡¨ç¤ºã™ã‚‹
   - å„å®¶äº‹ã‚¢ã‚¤ãƒ†ãƒ ã«ã¯ä»¥ä¸‹ã®æƒ…å ±ã‚’è¡¨ç¤ºã™ã‚‹
     - å®¶äº‹ã®åå‰
     - å®¶äº‹ã®ã‚¢ã‚¤ã‚³ãƒ³ï¼ˆçµµæ–‡å­—ï¼‰

2. **ç©ºã®çŠ¶æ…‹ã®è¡¨ç¤º**

   - ç™»éŒ²ã•ã‚Œã¦ã„ã‚‹å®¶äº‹ãŒãªã„å ´åˆã¯ã€é©åˆ‡ãªãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¨ã‚¢ã‚¤ã‚³ãƒ³ã‚’è¡¨ç¤ºã™ã‚‹
   - ä¾‹: ã€Œç™»éŒ²ã•ã‚Œã¦ã„ã‚‹å®¶äº‹ã¯ã‚ã‚Šã¾ã›ã‚“ã€ã¨ã„ã†ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¨ã€é–¢é€£ã™ã‚‹ã‚¢ã‚¤ã‚³ãƒ³ã‚’è¡¨ç¤º

3. **èª­ã¿è¾¼ã¿ä¸­ã®è¡¨ç¤º**

   - ãƒ‡ãƒ¼ã‚¿å–å¾—ä¸­ã¯ã‚¹ã‚±ãƒ«ãƒˆãƒ³ã‚¢ã‚¤ãƒ†ãƒ ã‚’ 10 ä»¶è¡¨ç¤ºã™ã‚‹
   - ã‚¹ã‚±ãƒ«ãƒˆãƒ³ã‚¢ã‚¤ãƒ†ãƒ ã®ä½œã‚Šæ–¹ã¯ã€home_screen.dart ã®`_QuickRegisterBottomBarState`ã«ãŠã‘ã‚‹`Skeletonizer`ã‚’å‚è€ƒã«ã™ã‚‹

4. **ã‚¨ãƒ©ãƒ¼çŠ¶æ…‹ã®è¡¨ç¤º**
   - ãƒ‡ãƒ¼ã‚¿å–å¾—ã«å¤±æ•—ã—ãŸå ´åˆã¯ã€ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¡¨ç¤ºã™ã‚‹

### 2.2 æ“ä½œè¦ä»¶

1. **å®¶äº‹ã®å®Œäº†ç™»éŒ²**

   - å®¶äº‹ã‚¢ã‚¤ãƒ†ãƒ ã®å·¦å´ãŒã‚¿ãƒƒãƒ—ã•ã‚ŒãŸéš›ã€ãã®å®¶äº‹ã®å®¶äº‹ãƒ­ã‚°ã‚’ç¾åœ¨æ™‚åˆ»ã§ç™»éŒ²ã™ã‚‹
   - ç™»éŒ²æˆåŠŸæ™‚ã¯ä»¥ä¸‹ã®ã‚ˆã†ãªé©åˆ‡ãªãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã‚’è¡¨ç¤ºã™ã‚‹
     - ã‚¹ãƒŠãƒƒã‚¯ãƒãƒ¼ã§ã®é€šçŸ¥
     - å®¶äº‹ãƒ­ã‚°ã®ã‚¿ãƒ–ã‚’ãƒã‚¤ãƒ©ã‚¤ãƒˆã™ã‚‹

2. **å®¶äº‹è©³ç´°ã®è¡¨ç¤º**

   - å®¶äº‹ã‚¢ã‚¤ãƒ†ãƒ ã®å³å´ãŒã‚¿ãƒƒãƒ—ã•ã‚ŒãŸéš›ã€ãã®å®¶äº‹ã®å®¶äº‹ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã«é·ç§»ã™ã‚‹
   - å®¶äº‹ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã§ã¯ã€å®¶äº‹ã®è©³ç´°æƒ…å ±ã‚„å®Œäº†å±¥æ­´ã‚’ç¢ºèªã§ãã‚‹

3. **å®¶äº‹ã®å‰Šé™¤**

   - å®¶äº‹ã‚¢ã‚¤ãƒ†ãƒ ãŒå·¦ã‚¹ãƒ¯ã‚¤ãƒ—ã•ã‚ŒãŸéš›ã€ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã‚’è¡¨ç¤ºã™ã‚‹
   - ç¢ºèªå¾Œã€å®¶äº‹ã‚’å‰Šé™¤ã™ã‚‹
   - å‰Šé™¤æˆåŠŸæ™‚ã¯é©åˆ‡ãªãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ï¼ˆä¾‹: ã‚¹ãƒŠãƒƒã‚¯ãƒãƒ¼ã§ã®é€šçŸ¥ï¼‰ã‚’è¡¨ç¤ºã™ã‚‹

4. **ä¸€è¦§ã®æ›´æ–°**
   - ãƒ—ãƒ«ãƒ€ã‚¦ãƒ³ã§ä¸€è¦§ã‚’æ›´æ–°ã§ãã‚‹ï¼ˆãƒ—ãƒ«ãƒˆã‚¥ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ï¼‰

### 2.3 åˆ¶ç´„æ¡ä»¶

1. **å®¶äº‹æ•°ã®åˆ¶é™**

   - ç„¡æ–™ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯æœ€å¤§ 10 ä»¶ã¾ã§ã®å®¶äº‹ã—ã‹ç™»éŒ²ã§ããªã„
   - åˆ¶é™ã«é”ã—ãŸå ´åˆã€Pro ç‰ˆã¸ã®ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ã‚’ä¿ƒã™ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã‚’è¡¨ç¤ºã™ã‚‹

2. **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹**
   - å¤§é‡ã®å®¶äº‹ãŒã‚ã‚‹å ´åˆã§ã‚‚ã€ã‚¹ãƒ ãƒ¼ã‚ºã«ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹
   - ãƒ‡ãƒ¼ã‚¿ã®å–å¾—ã¨è¡¨ç¤ºã‚’æœ€é©åŒ–ã™ã‚‹

## 3. æŠ€è¡“è¦ä»¶

### 3.1 ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«

1. **å®¶äº‹ãƒ¢ãƒ‡ãƒ«ï¼ˆHouseWorkï¼‰**

   - æ—¢å­˜ã®ãƒ¢ãƒ‡ãƒ«ã‚’ä½¿ç”¨ã™ã‚‹
   - ä¸»è¦ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰:
     - id: å®¶äº‹ã® IDï¼ˆæ–‡å­—åˆ—ï¼‰
     - title: å®¶äº‹ã®åå‰ï¼ˆæ–‡å­—åˆ—ï¼‰
     - icon: å®¶äº‹ã®ã‚¢ã‚¤ã‚³ãƒ³ï¼ˆçµµæ–‡å­—ã€æ–‡å­—åˆ—ï¼‰
     - createdAt: å®¶äº‹ã®ä½œæˆæ—¥æ™‚ï¼ˆDateTimeï¼‰
     - createdBy: å®¶äº‹ã®ä½œæˆè€… IDï¼ˆæ–‡å­—åˆ—ï¼‰
     - isRecurring: å®šæœŸçš„ãªå®¶äº‹ã‹ã©ã†ã‹ï¼ˆçœŸå½å€¤ï¼‰
     - recurringIntervalMs: å®šæœŸçš„ãªå®¶äº‹ã®å ´åˆã®é–“éš”ï¼ˆãƒŸãƒªç§’ã€æ•´æ•°ã€ã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰

2. **å®¶äº‹ãƒ­ã‚°ãƒ¢ãƒ‡ãƒ«ï¼ˆWorkLogï¼‰**
   - æ—¢å­˜ã®ãƒ¢ãƒ‡ãƒ«ã‚’ä½¿ç”¨ã™ã‚‹
   - ä¸»è¦ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰:
     - id: å®¶äº‹ãƒ­ã‚°ã® IDï¼ˆæ–‡å­—åˆ—ï¼‰
     - houseWorkId: é–¢é€£ã™ã‚‹å®¶äº‹ã® IDï¼ˆæ–‡å­—åˆ—ï¼‰
     - completedAt: å®Œäº†æ™‚åˆ»ï¼ˆDateTimeï¼‰
     - completedBy: å®Ÿè¡Œã—ãŸãƒ¦ãƒ¼ã‚¶ãƒ¼ã® IDï¼ˆæ–‡å­—åˆ—ï¼‰

### 3.2 ãƒªãƒã‚¸ãƒˆãƒª

1. **å®¶äº‹ãƒªãƒã‚¸ãƒˆãƒªï¼ˆHouseWorkRepositoryï¼‰**

   - æ—¢å­˜ã®ãƒªãƒã‚¸ãƒˆãƒªã‚’ä¿®æ­£ã™ã‚‹
   - `getAll()`ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä¿®æ­£ã—ã€`createdBy`ã§ã¯ãªã`createdAt`ã§ã‚½ãƒ¼ãƒˆã™ã‚‹ã‚ˆã†ã«ã™ã‚‹
   - ã‚½ãƒ¼ãƒˆé †ã¯é™é †ï¼ˆdescending: trueï¼‰ã¨ã™ã‚‹

2. **å®¶äº‹ãƒ­ã‚°ãƒªãƒã‚¸ãƒˆãƒªï¼ˆWorkLogRepositoryï¼‰**
   - æ—¢å­˜ã®ãƒªãƒã‚¸ãƒˆãƒªã‚’ä½¿ç”¨ã™ã‚‹
   - å®¶äº‹ãƒ­ã‚°ã®ç™»éŒ²ã€å–å¾—ã€å‰Šé™¤ãªã©ã®æ©Ÿèƒ½ã‚’æä¾›ã™ã‚‹

### 3.3 ãƒ—ãƒ¬ã‚¼ãƒ³ã‚¿ãƒ¼

1. **å®¶äº‹ä¸€è¦§ãƒ—ãƒ¬ã‚¼ãƒ³ã‚¿ãƒ¼ï¼ˆHouseWorkListPresenterï¼‰**
   - æ–°è¦ä½œæˆã™ã‚‹
   - å®¶äº‹ä¸€è¦§ã®å–å¾—ã€å®¶äº‹ã®å‰Šé™¤ã€å®¶äº‹ãƒ­ã‚°ã®ç™»éŒ²ãªã©ã®æ©Ÿèƒ½ã‚’æä¾›ã™ã‚‹
   - Riverpod ã‚’ä½¿ç”¨ã—ã¦çŠ¶æ…‹ç®¡ç†ã‚’è¡Œã†

### 3.4 UI ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

1. **å®¶äº‹ä¸€è¦§ã‚¿ãƒ–ï¼ˆHouseWorkListTabï¼‰**

   - æ–°è¦ä½œæˆã™ã‚‹
   - å®¶äº‹ä¸€è¦§ã®è¡¨ç¤ºã€å®¶äº‹ã®æ“ä½œãªã©ã®æ©Ÿèƒ½ã‚’æä¾›ã™ã‚‹
   - æ—¢å­˜ã®ãƒ›ãƒ¼ãƒ ç”»é¢ã®ã‚¿ãƒ–ã¨ã—ã¦çµ„ã¿è¾¼ã‚€

2. **å®¶äº‹ã‚¢ã‚¤ãƒ†ãƒ ï¼ˆHouseWorkItemï¼‰**
   - æ–°è¦ä½œæˆã™ã‚‹
   - å®¶äº‹ã®æƒ…å ±ã‚’è¡¨ç¤ºã—ã€ã‚¿ãƒƒãƒ—ã‚„ã‚¹ãƒ¯ã‚¤ãƒ—ãªã©ã®æ“ä½œã‚’å‡¦ç†ã™ã‚‹
   - å·¦å´ã¨å³å´ã§ç•°ãªã‚‹å‹•ä½œã‚’ã™ã‚‹ãŸã‚ã€é©åˆ‡ã«ã‚¿ãƒƒãƒ—é ˜åŸŸã‚’åˆ†å‰²ã™ã‚‹

## 4. å®Ÿè£…è¨ˆç”»

### 4.1 ãƒªãƒã‚¸ãƒˆãƒªã®ä¿®æ­£

1. **HouseWorkRepository ã®ä¿®æ­£**
   - `getAll()`ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä¿®æ­£ã—ã€`createdBy`ã§ã¯ãªã`createdAt`ã§ã‚½ãƒ¼ãƒˆã™ã‚‹ã‚ˆã†ã«ã™ã‚‹
   - ã‚½ãƒ¼ãƒˆé †ã¯é™é †ï¼ˆdescending: trueï¼‰ã¨ã™ã‚‹

```dart
// ä¿®æ­£å‰
Stream<List<HouseWork>> getAll() {
  return _getHouseWorksCollection()
      .orderBy('createdBy', descending: true)
      .snapshots()
      .map((snapshot) => snapshot.docs.map(HouseWork.fromFirestore).toList());
}

// ä¿®æ­£å¾Œ
Stream<List<HouseWork>> getAll() {
  return _getHouseWorksCollection()
      .orderBy('createdAt', descending: true)
      .snapshots()
      .map((snapshot) => snapshot.docs.map(HouseWork.fromFirestore).toList());
}
```

### 4.2 ãƒ—ãƒ¬ã‚¼ãƒ³ã‚¿ãƒ¼ã®å®Ÿè£…

1. **HouseWorkListPresenter ã®å®Ÿè£…**
   - å®¶äº‹ä¸€è¦§ã®å–å¾—ã€å®¶äº‹ã®å‰Šé™¤ã€å®¶äº‹ãƒ­ã‚°ã®ç™»éŒ²ãªã©ã®æ©Ÿèƒ½ã‚’æä¾›ã™ã‚‹
   - Riverpod ã‚’ä½¿ç”¨ã—ã¦çŠ¶æ…‹ç®¡ç†ã‚’è¡Œã†

```dart
// client/lib/features/home/house_work_list_presenter.dart
import 'package:flutter_riverpod/flutter_riverpod.dart';
import 'package:pochi_trim/models/house_work.dart';
import 'package:pochi_trim/repositories/house_work_repository.dart';
import 'package:pochi_trim/services/work_log_service.dart';
import 'package:riverpod_annotation/riverpod_annotation.dart';

part 'house_work_list_presenter.g.dart';

@riverpod
Stream<List<HouseWork>> houseWorks(Ref ref) {
  final houseWorkRepository = ref.watch(houseWorkRepositoryProvider);
  return houseWorkRepository.getAll();
}

@riverpod
Future<bool> deleteHouseWork(Ref ref, String houseWorkId) async {
  final houseWorkRepository = ref.read(houseWorkRepositoryProvider);
  return houseWorkRepository.delete(houseWorkId);
}
```

### 4.3 UI ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å®Ÿè£…

1. **HouseWorkListTab ã®å®Ÿè£…**
   - å®¶äº‹ä¸€è¦§ã®è¡¨ç¤ºã€å®¶äº‹ã®æ“ä½œãªã©ã®æ©Ÿèƒ½ã‚’æä¾›ã™ã‚‹
   - æ—¢å­˜ã®ãƒ›ãƒ¼ãƒ ç”»é¢ã®ã‚¿ãƒ–ã¨ã—ã¦çµ„ã¿è¾¼ã‚€

```dart
// client/lib/features/home/house_work_list_tab.dart
import 'package:flutter/material.dart';
import 'package:flutter_riverpod/flutter_riverpod.dart';
import 'package:pochi_trim/features/home/house_work_item.dart';
import 'package:pochi_trim/features/home/house_work_list_presenter.dart';
import 'package:pochi_trim/features/home/work_log_dashboard_screen.dart';
import 'package:pochi_trim/models/house_work.dart';
import 'package:pochi_trim/models/work_log.dart';
import 'package:skeletonizer/skeletonizer.dart';

class HouseWorkListTab extends ConsumerWidget {
  const HouseWorkListTab({super.key});

  @override
  Widget build(BuildContext context, WidgetRef ref) {
    final houseWorksAsync = ref.watch(houseWorksProvider);

    return houseWorksAsync.when(
      data: (houseWorks) {
        if (houseWorks.isEmpty) {
          return const Center(
            child: Column(
              mainAxisAlignment: MainAxisAlignment.center,
              children: [
                Icon(Icons.home_work, size: 64, color: Colors.grey),
                SizedBox(height: 16),
                Text(
                  'ç™»éŒ²ã•ã‚Œã¦ã„ã‚‹å®¶äº‹ã¯ã‚ã‚Šã¾ã›ã‚“',
                  style: TextStyle(fontSize: 18, color: Colors.grey),
                ),
                SizedBox(height: 8),
                Text(
                  'å®¶äº‹ã‚’è¿½åŠ ã™ã‚‹ã¨ã€ã“ã“ã«è¡¨ç¤ºã•ã‚Œã¾ã™',
                  style: TextStyle(fontSize: 14, color: Colors.grey),
                ),
              ],
            ),
          );
        }

        return RefreshIndicator(
          onRefresh: () async {
            // ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã‚’æ›´æ–°ã—ã¦æœ€æ–°ã®ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—
            ref.invalidate(houseWorksProvider);
          },
          child: ListView.builder(
            itemCount: houseWorks.length,
            itemBuilder: (context, index) {
              final houseWork = houseWorks[index];
              return HouseWorkItem(
                houseWork: houseWork,
                onLeftTap: () async {
                  // å®¶äº‹ãƒ­ã‚°ã‚’è¨˜éŒ²
                  final presenter = ref.read(houseWorkListPresenterProvider.notifier);
                  await presenter.recordWorkLog(context, houseWork.id);
                },
                onRightTap: () {
                  // å®¶äº‹ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ç”»é¢ã«é·ç§»
                  final workLog = WorkLog(
                    id: '',
                    houseWorkId: houseWork.id,
                    completedAt: DateTime.now(),
                    completedBy: '',
                  );
                  Navigator.of(context).push(
                    MaterialPageRoute<void>(
                      builder: (context) => WorkLogDashboardScreen(workLog: workLog),
                    ),
                  );
                },
                onDelete: () async {
                  // å‰Šé™¤ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã‚’è¡¨ç¤º
                  final shouldDelete = await showDialog<bool>(
                    context: context,
                    builder: (context) => AlertDialog(
                      title: const Text('å®¶äº‹ã®å‰Šé™¤'),
                      content: const Text('ã“ã®å®¶äº‹ã‚’å‰Šé™¤ã—ã¦ã‚‚ã‚ˆã‚ã—ã„ã§ã™ã‹ï¼Ÿ'),
                      actions: [
                        TextButton(
                          onPressed: () => Navigator.of(context).pop(false),
                          child: const Text('ã‚­ãƒ£ãƒ³ã‚»ãƒ«'),
                        ),
                        TextButton(
                          onPressed: () => Navigator.of(context).pop(true),
                          child: const Text('å‰Šé™¤'),
                        ),
                      ],
                    ),
                  );

                  if (shouldDelete == true) {
                    // å®¶äº‹ã‚’å‰Šé™¤
                    final presenter = ref.read(houseWorkListPresenterProvider.notifier);
                    final success = await presenter.deleteHouseWork(houseWork.id);

                    if (success && context.mounted) {
                      ScaffoldMessenger.of(context).showSnackBar(
                        const SnackBar(content: Text('å®¶äº‹ã‚’å‰Šé™¤ã—ã¾ã—ãŸ')),
                      );
                    }
                  }
                },
              );
            },
          ),
        );
      },
      loading: () => Skeletonizer(
        enabled: true,
        child: ListView.builder(
          itemCount: 10,
          itemBuilder: (context, index) => const _SkeletonHouseWorkItem(),
        ),
      ),
      error: (error, stackTrace) => Center(
        child: Column(
          mainAxisAlignment: MainAxisAlignment.center,
          children: [
            const Icon(Icons.error_outline, size: 64, color: Colors.red),
            const SizedBox(height: 16),
            Text(
              'ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ: $error',
              style: const TextStyle(fontSize: 18),
              textAlign: TextAlign.center,
            ),
            const SizedBox(height: 16),
            ElevatedButton(
              onPressed: () => ref.invalidate(houseWorksProvider),
              child: const Text('å†è©¦è¡Œ'),
            ),
          ],
        ),
      ),
    );
  }
}

class _SkeletonHouseWorkItem extends StatelessWidget {
  const _SkeletonHouseWorkItem();

  @override
  Widget build(BuildContext context) {
    return Card(
      margin: const EdgeInsets.symmetric(horizontal: 8, vertical: 4),
      child: Padding(
        padding: const EdgeInsets.all(16),
        child: Row(
          children: [
            Container(
              alignment: Alignment.center,
              decoration: BoxDecoration(
                color: Theme.of(context).colorScheme.surfaceContainer,
                borderRadius: BorderRadius.circular(8),
              ),
              width: 40,
              height: 40,
              margin: const EdgeInsets.only(right: 12),
              child: const Text('ğŸ ', style: TextStyle(fontSize: 24)),
            ),
            const Expanded(
              child: Text(
                'ã‚µãƒ³ãƒ—ãƒ«å®¶äº‹',
                style: TextStyle(fontSize: 18, fontWeight: FontWeight.bold),
              ),
            ),
            const Icon(Icons.chevron_right),
          ],
        ),
      ),
    );
  }
}
```

2. **HouseWorkItem ã®å®Ÿè£…**
   - å®¶äº‹ã®æƒ…å ±ã‚’è¡¨ç¤ºã—ã€ã‚¿ãƒƒãƒ—ã‚„ã‚¹ãƒ¯ã‚¤ãƒ—ãªã©ã®æ“ä½œã‚’å‡¦ç†ã™ã‚‹
   - å·¦å´ã¨å³å´ã§ç•°ãªã‚‹å‹•ä½œã‚’ã™ã‚‹ãŸã‚ã€é©åˆ‡ã«ã‚¿ãƒƒãƒ—é ˜åŸŸã‚’åˆ†å‰²ã™ã‚‹

```dart
// client/lib/features/home/house_work_item.dart
import 'package:flutter/material.dart';
import 'package:flutter/services.dart';
import 'package:pochi_trim/models/house_work.dart';

class HouseWorkItem extends StatelessWidget {
  const HouseWorkItem({
    super.key,
    required this.houseWork,
    required this.onLeftTap,
    required this.onRightTap,
    required this.onDelete,
  });

  final HouseWork houseWork;
  final VoidCallback onLeftTap;
  final VoidCallback onRightTap;
  final VoidCallback onDelete;

  @override
  Widget build(BuildContext context) {
    return Dismissible(
      key: Key('houseWork-${houseWork.id}'),
      background: Container(
        color: Colors.red,
        alignment: Alignment.centerRight,
        padding: const EdgeInsets.only(right: 20),
        child: const Icon(Icons.delete, color: Colors.white),
      ),
      direction: DismissDirection.endToStart,
      confirmDismiss: (direction) async {
        // å‰Šé™¤å‡¦ç†ã¯è¦ªã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆã«å§”è­²
        onDelete();
        // Dismissibleã®ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å…ƒã«æˆ»ã™
        return false;
      },
      child: Card(
        elevation: 2,
        margin: const EdgeInsets.symmetric(horizontal: 8, vertical: 4),
        child: Row(
          children: [
            // å·¦å´ã®ã‚¿ãƒƒãƒ—é ˜åŸŸï¼ˆå®¶äº‹ãƒ­ã‚°ã‚’è¨˜éŒ²ï¼‰
            Expanded(
              flex: 3,
              child: InkWell(
                onTap: () async {
                  await HapticFeedback.mediumImpact();
                  onLeftTap();
                },
                child: Padding(
                  padding: const EdgeInsets.all(16),
                  child: Row(
                    children: [
                      // ã‚¢ã‚¤ã‚³ãƒ³ã‚’è¡¨ç¤º
                      Container(
                        alignment: Alignment.center,
                        decoration: BoxDecoration(
                          color: Theme.of(context).colorScheme.surfaceContainer,
                          borderRadius: BorderRadius.circular(8),
                        ),
                        width: 40,
                        height: 40,
                        margin: const EdgeInsets.only(right: 12),
                        child: Text(
                          houseWork.icon,
                          style: const TextStyle(fontSize: 24),
                        ),
                      ),
                      Expanded(
                        child: Text(
                          houseWork.title,
                          style: const TextStyle(
                            fontSize: 18,
                            fontWeight: FontWeight.bold,
                          ),
                        ),
                      ),
                    ],
                  ),
                ),
              ),
            ),
            // å³å´ã®ã‚¿ãƒƒãƒ—é ˜åŸŸï¼ˆå®¶äº‹ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã«é·ç§»ï¼‰
            InkWell(
              onTap: onRightTap,
              child: Container(
                padding: const EdgeInsets.all(16),
                child: const Icon(Icons.chevron_right),
              ),
            ),
          ],
        ),
      ),
    );
  }
}
```

### 4.4 ãƒ›ãƒ¼ãƒ ç”»é¢ã¸ã®çµ±åˆ

1. **HomeScreen ã®ä¿®æ­£**
   - ã“ã‚Œã‹ã‚‰è¡Œã†äºˆå®šå®¶äº‹ä¸€è¦§ã®ã‚¿ãƒ–ã‚’å®¶äº‹ä¸€è¦§ã‚¿ãƒ–ã«å·®ã—æ›¿ãˆã‚‹

```dart
// client/lib/features/home/home_screen.dart ã®ä¿®æ­£éƒ¨åˆ†
// ...
body: TabBarView(
  children: [
    // å®¶äº‹ä¸€è¦§ã‚¿ãƒ–
    const HouseWorkListTab(),
    // å®Œäº†ã—ãŸå®¶äº‹ãƒ­ã‚°ä¸€è¦§ã®ã‚¿ãƒ–
    _CompletedWorkLogsTab(),
  ],
),
// ...

// TabBarã®ä¿®æ­£éƒ¨åˆ†
bottom: TabBar(
  onTap: (index) {
    ref.read(selectedTabProvider.notifier).state = index;
  },
  tabs: const [
    Tab(icon: Icon(Icons.home_work), text: 'å®¶äº‹ä¸€è¦§'),
    Tab(icon: Icon(Icons.task_alt), text: 'å®Œäº†å®¶äº‹'),
  ],
),
// ...
```

## 5. ãƒ†ã‚¹ãƒˆè¨ˆç”»

### 5.1 å˜ä½“ãƒ†ã‚¹ãƒˆ

1. **HouseWorkRepository ã®ãƒ†ã‚¹ãƒˆ**
   - `getAll()`ãƒ¡ã‚½ãƒƒãƒ‰ãŒ`createdAt`ã§ã‚½ãƒ¼ãƒˆã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹
   - ã‚½ãƒ¼ãƒˆé †ãŒé™é †ã§ã‚ã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹

```dart
// client/test/repositories/house_work_repository_test.dart
void main() {
  group('HouseWorkRepository', () {
    test('getAll should sort by createdAt in descending order', () async {
      // ãƒ¢ãƒƒã‚¯ã®è¨­å®š
      // ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
      // æ¤œè¨¼
    });
  });
}
```

2. **HouseWorkListPresenter ã®ãƒ†ã‚¹ãƒˆ**
   - `deleteHouseWork()`ãƒ¡ã‚½ãƒƒãƒ‰ãŒæ­£ã—ãå‹•ä½œã™ã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹
   - `recordWorkLog()`ãƒ¡ã‚½ãƒƒãƒ‰ãŒæ­£ã—ãå‹•ä½œã™ã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹

```dart
// client/test/features/home/house_work_list_presenter_test.dart
void main() {
  group('HouseWorkListPresenter', () {
    test('deleteHouseWork should delete a house work', () async {
      // ãƒ¢ãƒƒã‚¯ã®è¨­å®š
      // ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
      // æ¤œè¨¼
    });

    test('recordWorkLog should record a work log', () async {
      // ãƒ¢ãƒƒã‚¯ã®è¨­å®š
      // ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
      // æ¤œè¨¼
    });
  });
}
```

### 5.2 ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆãƒ†ã‚¹ãƒˆ

1. **HouseWorkListTab ã®ãƒ†ã‚¹ãƒˆ**
   - å®¶äº‹ä¸€è¦§ãŒæ­£ã—ãè¡¨ç¤ºã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹
   - ç©ºã®çŠ¶æ…‹ãŒæ­£ã—ãè¡¨ç¤ºã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹
   - èª­ã¿è¾¼ã¿ä¸­ã®çŠ¶æ…‹ãŒæ­£ã—ãè¡¨ç¤ºã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹
   - ã‚¨ãƒ©ãƒ¼çŠ¶æ…‹ãŒæ­£ã—ãè¡¨ç¤ºã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹

```dart
// client/test/features/home/house_work_list_tab_test.dart
void main() {
  group('HouseWorkListTab', () {
    testWidgets('should display house works', (WidgetTester tester) async {
      // ãƒ¢ãƒƒã‚¯ã®è¨­å®š
      // ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
      // æ¤œè¨¼
    });

    testWidgets('should display empty state', (WidgetTester tester) async {
      // ãƒ¢ãƒƒã‚¯ã®è¨­å®š
      // ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
      // æ¤œè¨¼
    });

    testWidgets('should display loading state', (WidgetTester tester) async {
      // ãƒ¢ãƒƒã‚¯ã®è¨­å®š
      // ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
      // æ¤œè¨¼
    });

    testWidgets('should display error state', (WidgetTester tester) async {
      // ãƒ¢ãƒƒã‚¯ã®è¨­å®š
      // ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
      // æ¤œè¨¼
    });
  });
}
```

2. **HouseWorkItem ã®ãƒ†ã‚¹ãƒˆ**
   - å·¦å´ã®ã‚¿ãƒƒãƒ—ãŒæ­£ã—ãå‹•ä½œã™ã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹
   - å³å´ã®ã‚¿ãƒƒãƒ—ãŒæ­£ã—ãå‹•ä½œã™ã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹
   - ã‚¹ãƒ¯ã‚¤ãƒ—ãŒæ­£ã—ãå‹•ä½œã™ã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹

```dart
// client/test/features/home/house_work_item_test.dart
void main() {
  group('HouseWorkItem', () {
    testWidgets('should handle left tap', (WidgetTester tester) async {
      // ãƒ¢ãƒƒã‚¯ã®è¨­å®š
      // ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
      // æ¤œè¨¼
    });

    testWidgets('should handle right tap', (WidgetTester tester) async {
      // ãƒ¢ãƒƒã‚¯ã®è¨­å®š
      // ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
      // æ¤œè¨¼
    });

    testWidgets('should handle swipe', (WidgetTester tester) async {
      // ãƒ¢ãƒƒã‚¯ã®è¨­å®š
      // ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
      // æ¤œè¨¼
    });
  });
}
```

### 5.3 çµ±åˆãƒ†ã‚¹ãƒˆ

1. **å®¶äº‹ä¸€è¦§ã‚¿ãƒ–ã®çµ±åˆãƒ†ã‚¹ãƒˆ**
   - å®¶äº‹ä¸€è¦§ã‚¿ãƒ–ãŒæ­£ã—ãå‹•ä½œã™ã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹
   - å®¶äº‹ã®å®Œäº†ç™»éŒ²ãŒæ­£ã—ãå‹•ä½œã™ã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹
   - å®¶äº‹ã®è©³ç´°è¡¨ç¤ºãŒæ­£ã—ãå‹•ä½œã™ã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹
   - å®¶äº‹ã®å‰Šé™¤ãŒæ­£ã—ãå‹•ä½œã™ã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹

```dart
// client/integration_test/house_work_list_tab_test.dart
void main() {
  group('HouseWorkListTab Integration', () {
    testWidgets('should display and interact with house works', (WidgetTester tester) async {
      // ã‚¢ãƒ—ãƒªã®èµ·å‹•
      // ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
      // æ¤œè¨¼
    });
  });
}
```

## 6. ä»Šå¾Œã®æ‹¡å¼µæ€§

1. **å®¶äº‹ã®æ¤œç´¢æ©Ÿèƒ½**

   - å®¶äº‹åã‚„ã‚¢ã‚¤ã‚³ãƒ³ã§æ¤œç´¢ã§ãã‚‹æ©Ÿèƒ½ã‚’è¿½åŠ ã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹

2. **å®¶äº‹ã®ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°æ©Ÿèƒ½**

   - ç‰¹å®šã®æ¡ä»¶ï¼ˆä¾‹: ä½œæˆè€…ã€é »åº¦ãªã©ï¼‰ã§å®¶äº‹ã‚’ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ã™ã‚‹æ©Ÿèƒ½ã‚’è¿½åŠ ã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹

3. **å®¶äº‹ã®ä¸¦ã³æ›¿ãˆæ©Ÿèƒ½**
   - ä½œæˆæ—¥æ™‚ä»¥å¤–ã®æ¡ä»¶ï¼ˆä¾‹: åå‰ã€å®Œäº†å›æ•°ãªã©ï¼‰ã§å®¶äº‹ã‚’ä¸¦ã³æ›¿ãˆã‚‹æ©Ÿèƒ½ã‚’è¿½åŠ ã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹
